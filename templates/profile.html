{% extends "base.html" %}

{% block content %}

    {% for user in users %}
<div class="center h1">{{ user.username|capitalize }}'s Profile</div>


    <div class="section centered row green-text text-darken-6">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            {% endif%}
        {% endwith %}
    </div>

    <h3 class="center">You can Edit your profile here:</h3>
    

    <div class="centered black-text">
        <form class="col s12 " method="GET" action="{{ url_for('profile', username=user.username)}}">
            <!-- Username -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="username" name="username" type="text" class="validate" minlength="3" maxlength="15" value="{{ user.username|capitalize }}" disabled>
                    <label for="username" >Username</label>
                    <span> * <small>You cannot change your username</small> * </span>
                </div>
            </div>
            <!-- First name -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="fname" name="fname" type="text" class="validate" minlength="3" maxlength="15" pattern="^[a-zA-z0-9]{3,15}$" value="{{ user.fname|capitalize }}">
                    <label for="fname" >First Name</label>
                </div>
            </div>
            <!-- Last name -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="lname" name="lname" type="text" class="validate" minlength="3" maxlength="15" pattern="^[a-zA-z0-9]{3,15}$" value="{{ user.lname|capitalize }}" required>
                    <label for="lname" >Last Name</label>
                </div>
            </div>
            <!-- Email -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="email" name="email" type="text" class="validate" minlength="3" maxlength="15" pattern="^[a-zA-z0-9]{3,15}$" value="{{ user.email|lower }}" required>
                    <label for="email" >Email Address</label>
                </div>
            </div>
            <!-- Password -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="password" name="password" type="password" class="validate" minlength="5" maxlength="15" pattern="^[a-zA-z0-9]{5,15}$">
                    <label for="password">Password</label>
                </div>
            </div>
            <!-- Date of Birth - user must be 18 to sign up -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="dob" name="dob" type="text" class="validate" minlength="3" maxlength="15" pattern="^[a-zA-z0-9]{3,15}$" disabled value="{{ user.dob }}">
                    <label for="dob" >Date of Birth</label><span>* <small>You can't edit your date of birth</small> *</span>
                </div>
            <!-- Submit -->
            <div class="row">
                <button type="submit" class="centered front_button btn-small text-shadow">update <i class="fas fa-sign-in-alt"></i></button>
            </div>
        </form>
    </div>
    {% endfor %}

{% endblock content %}